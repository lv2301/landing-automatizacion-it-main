# ============================================================================
# .ENV.EXAMPLE - Template de variables de entorno
#
# INSTRUCCIONES:
# 1. Copia este archivo a: .env (mismo directorio)
# 2. Rellena cada variable con tus valores reales
# 3. NUNCA commits .env a Git (agr√©galo a .gitignore)
# 4. Este archivo (.env.example) S√ç commitea para referencia
#
# ============================================================================

# ============================================================================
# üéØ INFORMACI√ìN DEL PROYECTO
# ============================================================================
PROJECT_NAME=Luciano Valinoti - IT Automation API
VERSION=1.0.0
DEBUG=True                    # True en desarrollo, False en producci√≥n
ENVIRONMENT=development       # development, staging, production

# ============================================================================
# üåê SERVIDOR
# ============================================================================
HOST=0.0.0.0
PORT=8001
RELOAD=True                   # Hot reload en desarrollo

# ============================================================================
# üóÑÔ∏è BASE DE DATOS
# ============================================================================

# OPCI√ìN 1: SQLite (Desarrollo local)
DATABASE_TYPE=sqlite
DATABASE_URL=sqlite:///./app/proyectos.db

# OPCI√ìN 2: PostgreSQL / Supabase (Producci√≥n)
# DATABASE_TYPE=postgresql
# DATABASE_URL=postgresql://user:password@host:port/database_name
#
# Ejemplo Supabase:
# DATABASE_URL=postgresql://postgres:password@db.supabase.co:5432/postgres

# ============================================================================
# ü§ñ GROQ API (LLM - Chatbot)
# ============================================================================
# C√≥mo obtener:
# 1. Ve a https://console.groq.com/keys
# 2. Sign up (gratis)
# 3. Crea API key
# 4. Copia aqu√≠

GROQ_API_KEY=gsk_xxxxxxxxxxxxxxxxxxxxxxxxxxxxx
GROQ_MODEL=llama-3.3-70b-versatile
GROQ_TEMPERATURE=0.6
GROQ_MAX_TOKENS=250

# ============================================================================
# üìß EMAIL (SendGrid)
# ============================================================================
# C√≥mo obtener:
# 1. Ve a https://sendgrid.com
# 2. Sign up (gratis: 100 emails/d√≠a)
# 3. Settings > API Keys > Create API Key
# 4. Copia el token aqu√≠

SENDGRID_API_KEY=SG.xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
SENDGRID_FROM_EMAIL=tu_email@gmail.com

# ============================================================================
# üí¨ EMAIL ALTERNATIVO (Gmail SMTP - Opcional)
# Usa SOLO si no quieres SendGrid
# ============================================================================
# MAIL_USERNAME=tu_email@gmail.com
# MAIL_PASSWORD=app_specific_password_from_google
# MAIL_PORT=587
# MAIL_SERVER=smtp.gmail.com
# MAIL_STARTTLS=True
# MAIL_SSL_TLS=False

# ============================================================================
# üì± TWILIO (WhatsApp)
# ============================================================================
# C√≥mo obtener:
# 1. Ve a https://www.twilio.com/console
# 2. Sign up (gratis: prueba con n√∫meros limitados)
# 3. Account SID y Auth Token en Dashboard
# 4. Messaging > Try it Out > WhatsApp Sandbox

TWILIO_ACCOUNT_SID=ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
TWILIO_AUTH_TOKEN=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
TWILIO_WHATSAPP_NUMBER=whatsapp:+1234567890
TWILIO_WEBHOOK_URL=https://your_domain/webhook/twilio

# ============================================================================
# ü§ñ TELEGRAM (Notificaciones al Admin)
# ============================================================================
# C√≥mo obtener:
# 1. Abre Telegram y busca @BotFather
# 2. /newbot ‚Üí Crea bot nuevo
#    Nombre: LucianoITBot
#    Username: luciano_it_notifications_bot
# 3. BotFather te da el TOKEN
# 4. Abre tu bot y escribe /start
# 5. Obt√©n CHAT_ID: https://api.telegram.org/bot{TOKEN}/getMe

TELEGRAM_TOKEN=123456789:ABCdefGHIjklmnOPqrst_tu_token_aqui
TELEGRAM_CHAT_ID=-1001234567890

# ============================================================================
# üìä AIRTABLE (CRM Visual)
# ============================================================================
# C√≥mo obtener:
# 1. Ve a https://airtable.com
# 2. Sign up (gratis: 1,200 registros)
# 3. Crea workspace "Luciano-IT"
# 4. Crea base con tabla "Leads" (columnas: Nombre, Email, Tel√©fono, etc)
# 5. Settings > API > Generate token
# 6. Obt√©n Base ID de URL: airtable.com/app{BASE_ID}/...

AIRTABLE_TOKEN=patXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
AIRTABLE_BASE_ID=appXXXXXXXXXXXXXXXX
AIRTABLE_TABLE_LEADS=Leads
AIRTABLE_TABLE_SESSIONS=Sessions

# ============================================================================
# üóìÔ∏è GOOGLE CALENDAR
# ============================================================================
# C√≥mo obtener:
# 1. Ve a https://console.cloud.google.com
# 2. Crea proyecto nuevo
# 3. Habilita "Google Calendar API"
# 4. Crea OAuth 2.0 credential (Desktop app)
# 5. Descarga JSON y guarda en: backend/.secrets/google_calendar.json
# 6. GOOGLE_CALENDAR_ID es tu email de Google

GOOGLE_CALENDAR_CREDENTIALS=.secrets/google_calendar.json
GOOGLE_CALENDAR_ID=tu_email@gmail.com

# ============================================================================
# üîó n8n Webhook
# ============================================================================
# URL donde n8n escucha los eventos del backend
# Si n8n est√° en local: http://localhost:5678
# Si n8n est√° en cloud: https://tu_instance.n8n.cloud

N8N_WEBHOOK_URL=http://localhost:5678/webhook/lead-manager
N8N_TIMEOUT=2.0

# ============================================================================
# üîê SEGURIDAD
# ============================================================================
# Secret key para JWT (cambia esto en producci√≥n!)
SECRET_KEY=tu_secret_key_super_seguro_cambiar_en_produccion_12345
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:5173,http://127.0.0.1:3000,http://127.0.0.1:5173

# ============================================================================
# üìä LEAD SCORING
# ============================================================================
# Score m√≠nimo para agendar autom√°tico (0-100)
LEAD_SCORE_MIN_AGENDABLE=70
# Score m√≠nimo para contactar (0-100)
LEAD_SCORE_CONTACTABLE=50

# ============================================================================
# ‚è∞ TIEMPOS
# ============================================================================
# √öltimos N mensajes a mantener en memoria
CHAT_HISTORY_LIMIT=6
# Timeout de sesi√≥n (segundos)
SESSION_TIMEOUT=3600
# Horas para seguimiento autom√°tico
FOLLOW_UP_DELAY_HOURS=24

# ============================================================================
# üìù LOGGING
# ============================================================================
LOG_LEVEL=INFO               # DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_FORMAT=%(asctime)s - %(name)s - %(levelname)s - %(message)s

# ============================================================================
# üöÄ DEPLOYMENT (Producci√≥n)
# ============================================================================
# Estos se usan cuando deployas a cloud (Render, Railway, Fly.io, etc)

# Cambiar a False en producci√≥n
DEBUG=False

# Cambiar en producci√≥n
ENVIRONMENT=production

# Actualizar en producci√≥n
ALLOWED_ORIGINS=https://tudominio.com,https://www.tudominio.com

# Database remota en producci√≥n
# DATABASE_URL=postgresql://prod_user:prod_pass@prod_host:5432/prod_db

# ============================================================================
# üìã CHECKLIST DE SETUP
# ============================================================================
#
# Antes de correr el servidor, aseg√∫rate de:
#
# ‚úì 1. Copiar este archivo a .env
# ‚úì 2. Llenar GROQ_API_KEY (m√≠nimo requerido)
# ‚úì 3. Llenar SENDGRID_API_KEY y SENDGRID_FROM_EMAIL
# ‚úì 4. Llenar TELEGRAM_TOKEN y TELEGRAM_CHAT_ID
# ‚úì 5. Llenar AIRTABLE_TOKEN y AIRTABLE_BASE_ID
# ‚úì 6. DATABASE_URL apunta a ruta correcta
# ‚úì 7. .env est√° en .gitignore (no commitear)
# ‚úì 8. pip install -r requirements.txt
# ‚úì 9. python app/main.py
#
# ============================================================================

# ============================================================================
# ‚ö†Ô∏è NOTAS IMPORTANTES
# ============================================================================
#
# 1. SEGURIDAD:
#    - NUNCA pushes .env a GitHub
#    - Usa variables de entorno en producci√≥n
#    - Cambia SECRET_KEY en producci√≥n
#
# 2. VALORES POR DEFECTO:
#    - Si una variable no est√°, se usa el default en config.py
#    - Algunas son opcionales (MAIL_* si usas SendGrid)
#
# 3. TESTING:
#    - Para testing local, solo necesitas:
#      * GROQ_API_KEY
#      * DATABASE_URL (pode ser sqlite)
#      * TELEGRAM_TOKEN (para notificaciones)
#
# 4. OBTENER API KEYS:
#    - Groq: console.groq.com/keys
#    - SendGrid: sendgrid.com (100 emails/d√≠a gratis)
#    - Twilio: twilio.com (prueba gratis)
#    - Telegram: @BotFather en Telegram
#    - Airtable: airtable.com
#
# 5. SECRETS EN PRODUCCI√ìN:
#    - Render.com: Settings > Environment
#    - Railway.app: Settings > Variables
#    - Fly.io: fly secrets set VAR=value
#    - Docker: ENV en Dockerfile o docker-compose.yml
#
# ============================================================================

# ============================================================================
# üß™ VALORES PARA TESTING R√ÅPIDO (M√çNIMO)
# ============================================================================
#
# Si solo quieres probar sin todas las integraciones:
#
# PROJECT_NAME=Test Backend
# DEBUG=True
# HOST=0.0.0.0
# PORT=8001
# DATABASE_TYPE=sqlite
# DATABASE_URL=sqlite:///./app/test.db
# GROQ_API_KEY=gsk_xxxxx (cambiar)
# SENDGRID_API_KEY=SG_xxxxx (opcional)
# TELEGRAM_TOKEN=123456 (opcional)
#
# Luego: python app/main.py
# Visita: http://localhost:8001/docs
#
# ============================================================================